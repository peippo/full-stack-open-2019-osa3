{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/phonebook.js","App.js","index.js"],"names":["Filter","searchTerm","handleSearchChange","className","value","onChange","event","PersonForm","newName","newNumber","handleNameChange","handleNumberChange","handleAddClick","onClick","type","Persons","filteredPersons","handlePersonRemoval","map","person","key","id","name","number","Notification","notification","message","classes","isError","baseUrl","getAll","a","request","axios","get","response","data","create","newObject","post","update","put","remove","delete","App","useState","persons","setPersons","setFilteredPersons","setSearchTerm","setNewName","setNewNumber","setNotification","useEffect","phonebookService","then","initialPersons","filtered","filter","toLowerCase","includes","target","personToBeRemoved","window","confirm","setTimeout","catch","error","preventDefault","some","oldPerson","find","updatedPerson","alert","newPerson","returnedPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bba37acf.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ searchTerm, handleSearchChange }) => {\n\treturn (\n\t\t<div className=\"filter\">\n\t\t\tSearch:{\" \"}\n\t\t\t<input\n\t\t\t\tvalue={searchTerm}\n\t\t\t\tonChange={event => handleSearchChange(event)}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({\n\tnewName,\n\tnewNumber,\n\thandleNameChange,\n\thandleNumberChange,\n\thandleAddClick\n}) => {\n\treturn (\n\t\t<form className=\"add\">\n\t\t\t<div className=\"add__row\">\n\t\t\t\t<span className=\"add__label\">Name: </span>\n\t\t\t\t<input\n\t\t\t\t\tvalue={newName}\n\t\t\t\t\tonChange={event => handleNameChange(event)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"add__row\">\n\t\t\t\t<span className=\"add__label\">Number: </span>\n\t\t\t\t<input\n\t\t\t\t\tvalue={newNumber}\n\t\t\t\t\tonChange={event => handleNumberChange(event)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\tclassName=\"add__submit\"\n\t\t\t\tonClick={event => handleAddClick(event)}\n\t\t\t\ttype=\"submit\"\n\t\t\t>\n\t\t\t\tAdd\n\t\t\t</button>\n\t\t</form>\n\t);\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Persons = ({ filteredPersons, handlePersonRemoval }) => {\n\treturn (\n\t\t<table className=\"persons\">\n\t\t\t<tbody>\n\t\t\t\t{filteredPersons.map(person => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<tr key={person.id}>\n\t\t\t\t\t\t\t<td>{person.name}</td>\n\t\t\t\t\t\t\t<td>{person.number}</td>\n\t\t\t\t\t\t\t<td\n\t\t\t\t\t\t\t\tonClick={() => handlePersonRemoval(person)}\n\t\t\t\t\t\t\t\tclassName=\"persons__remove\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t&times;\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</tbody>\n\t\t</table>\n\t);\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ notification }) => {\n\tif (notification.message === null) {\n\t\treturn null;\n\t}\n\n\tconst classes = notification.isError\n\t\t? \"notification notification--error\"\n\t\t: \"notification\";\n\n\treturn <div className={classes}>{notification.message}</div>;\n};\n\nexport default Notification;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = async () => {\n\tconst request = axios.get(baseUrl);\n\tconst response = await request;\n\treturn response.data;\n};\n\nconst create = async newObject => {\n\tconst request = axios.post(baseUrl, newObject);\n\tconst response = await request;\n\treturn response.data;\n};\n\nconst update = async (id, newObject) => {\n\tconst request = axios.put(`${baseUrl}/${id}`, newObject);\n\tconst response = await request;\n\treturn response.data;\n};\n\nconst remove = async id => {\n\tconst request = axios.delete(`${baseUrl}/${id}`);\n\tconst response = await request;\n\treturn response.data;\n};\n\nexport default {\n\tgetAll,\n\tcreate,\n\tupdate,\n\tremove\n};\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\nimport phonebookService from \"./services/phonebook\";\nimport \"./App.css\";\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([]);\n\tconst [filteredPersons, setFilteredPersons] = useState(persons);\n\tconst [searchTerm, setSearchTerm] = useState(\"\");\n\tconst [newName, setNewName] = useState(\"\");\n\tconst [newNumber, setNewNumber] = useState(\"\");\n\tconst [notification, setNotification] = useState({\n\t\tmessage: null,\n\t\tisError: false\n\t});\n\n\tconst handleNameChange = event => {\n\t\tsetNewName(event.target.value);\n\t};\n\n\tconst handleNumberChange = event => {\n\t\tsetNewNumber(event.target.value);\n\t};\n\n\tconst handleSearchChange = event => {\n\t\tsetSearchTerm(event.target.value);\n\t};\n\n\tconst handlePersonRemoval = personToBeRemoved => {\n\t\tif (window.confirm(`Remove ${personToBeRemoved.name}?`)) {\n\t\t\tphonebookService\n\t\t\t\t.remove(personToBeRemoved.id)\n\t\t\t\t.then(() => {\n\t\t\t\t\tsetPersons(\n\t\t\t\t\t\tpersons.filter(\n\t\t\t\t\t\t\tperson => person.id !== personToBeRemoved.id\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\tmessage: `${personToBeRemoved.name} was removed successfully!`,\n\t\t\t\t\t\tisError: false\n\t\t\t\t\t});\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetNotification({ message: null, isError: false });\n\t\t\t\t\t}, 4000);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetNotification({ message: `${error}!`, isError: true });\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetNotification({ message: null, isError: false });\n\t\t\t\t\t}, 4000);\n\t\t\t\t\tsetPersons(\n\t\t\t\t\t\tpersons.filter(\n\t\t\t\t\t\t\tperson => person.id !== personToBeRemoved.id\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t}\n\t};\n\n\t// fetch initial persons data from server\n\tuseEffect(() => {\n\t\tphonebookService.getAll().then(initialPersons => {\n\t\t\tsetPersons(initialPersons);\n\t\t});\n\t}, []);\n\n\t// Filter persons based on searchTerm\n\tuseEffect(() => {\n\t\tconst filtered = persons.filter(person =>\n\t\t\tperson.name.toLowerCase().includes(searchTerm.toLowerCase())\n\t\t);\n\t\tsetFilteredPersons(filtered);\n\t}, [searchTerm, persons]);\n\n\tconst handleAddClick = event => {\n\t\tevent.preventDefault();\n\n\t\tif (persons.some(person => person.name === newName)) {\n\t\t\tif (\n\t\t\t\twindow.confirm(\n\t\t\t\t\t`${newName} is already in the phonebook, update number?`\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tconst oldPerson = persons.find(\n\t\t\t\t\tperson => person.name === newName\n\t\t\t\t);\n\t\t\t\tconst updatedPerson = { ...oldPerson, number: newNumber };\n\t\t\t\tphonebookService\n\t\t\t\t\t.update(oldPerson.id, updatedPerson)\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\tsetPersons(\n\t\t\t\t\t\t\tpersons.map(person =>\n\t\t\t\t\t\t\t\toldPerson.id !== person.id ? person : response\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetNotification({\n\t\t\t\t\t\t\tmessage: `Number associated with '${oldPerson.name}' updated successfully!`,\n\t\t\t\t\t\t\tisError: false\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tsetNotification({ message: null, isError: false });\n\t\t\t\t\t\t}, 4000);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tsetNotification({\n\t\t\t\t\t\t\tmessage: `${error}!`,\n\t\t\t\t\t\t\tisError: true\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tsetNotification({ message: null, isError: false });\n\t\t\t\t\t\t}, 4000);\n\t\t\t\t\t\tsetPersons(\n\t\t\t\t\t\t\tpersons.filter(person => person.id !== oldPerson.id)\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t}\n\t\t} else if (newName === \"\") {\n\t\t\talert(\"Enter a name\");\n\t\t} else if (newNumber === \"\") {\n\t\t\talert(\"Enter a number\");\n\t\t} else {\n\t\t\tconst newPerson = {\n\t\t\t\tname: newName,\n\t\t\t\tnumber: newNumber\n\t\t\t};\n\n\t\t\tphonebookService\n\t\t\t\t.create(newPerson)\n\t\t\t\t.then(returnedPerson => {\n\t\t\t\t\tsetPersons(persons.concat(returnedPerson));\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\tmessage: `'${returnedPerson.name}' was added successfully!`,\n\t\t\t\t\t\tisError: false\n\t\t\t\t\t});\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetNotification({ message: null, isError: false });\n\t\t\t\t\t}, 4000);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\tmessage: `${error.response.data.error}!`,\n\t\t\t\t\t\tisError: true\n\t\t\t\t\t});\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetNotification({ message: null, isError: false });\n\t\t\t\t\t}, 4000);\n\t\t\t\t});\n\t\t}\n\n\t\tsetNewName(\"\");\n\t\tsetNewNumber(\"\");\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<h1>Phonebook</h1>\n\t\t\t<Filter\n\t\t\t\tsearchTerm={searchTerm}\n\t\t\t\thandleSearchChange={handleSearchChange}\n\t\t\t/>\n\t\t\t<Notification notification={notification} />\n\t\t\t<Persons\n\t\t\t\tfilteredPersons={filteredPersons}\n\t\t\t\thandlePersonRemoval={handlePersonRemoval}\n\t\t\t/>\n\t\t\t<h2>Add new contact</h2>\n\t\t\t<PersonForm\n\t\t\t\tnewName={newName}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t\thandleNameChange={handleNameChange}\n\t\t\t\thandleNumberChange={handleNumberChange}\n\t\t\t\thandleAddClick={handleAddClick}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}